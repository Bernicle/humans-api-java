<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Material-UI Table Population</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mui/material@5.0.5/dist/css/mui.min.css" integrity="sha512-R4zrnt+8Lo6DqSN51IuRE6bLGyGj5Rj9jrbyA8VEvZkA06jw+0RxXWTt+OGDEAPXe7zRQ1QLIosU0yL1gi4Ryg==" crossorigin="anonymous" />
    <style>
        :root {
            --primary-color: #2196F3;
            --tetradic-color-1: #F44336;
            --tetradic-color-2: #FFC107;
            --tetradic-color-3: #4CAF50;
        }

        body {
            background-color: #f5f5f5;
        }

        .MuiButton-contained {
            background-color: var(--primary-color);
            color: white;
            margin-bottom: 16px;
        }

        .MuiTable-root {
            margin-top: 20px;
            border-collapse: collapse;
            width: 100%;
        }

        .MuiPaper-root {
            padding: 16px;
            margin-bottom: 16px;
            border-radius: 8px;
            background-color: #fff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .MuiTableRow-root {
            border-bottom: 1px solid #ddd;
        }

        .MuiTextField-root {
            margin-bottom: 16px;
            width: 100%;
        }
    </style>
</head>
<body>

    <div style="padding: 16px;">
        <h2 style="color: var(--primary-color);">Material-UI Table Population Example</h2>

        <button onclick="populateTable()" class="MuiButton-root MuiButton-contained">Populate Table</button>
        <button onclick="addRecord()" class="MuiButton-root MuiButton-contained">Add Record</button>

        <!-- New card for adding records -->
        <div class="MuiPaper-root">
            <h3>Add New Record</h3>
            <div>
                <div class="MuiTextField-root">
                    <label for="first-name">First Name:</label>
                    <input type="text" id="first-name" placeholder="Enter first name">
                </div>
                <div class="MuiTextField-root">
                    <label for="last-name">Last Name:</label>
                    <input type="text" id="last-name" placeholder="Enter last name">
                </div>
                <button onclick="addCustomRecord()" class="MuiButton-root MuiButton-contained">Add Custom Record</button>
            </div>
        </div>

        <div id="data-table-body" class="MuiTableBody-root">
            <!-- Table content will be dynamically added here -->
        </div>
    </div>

    <script>
        // Declare jsonData as a global variable
        var jsonData = [];

        function populateTable() {

            var tableBody = document.getElementById("data-table-body");
            tableBody.innerHTML = '';

            for (var i = 0; i < jsonData.length; i++) {
                var card = document.createElement("div");
                card.className = "MuiPaper-root";

                card.innerHTML = `
                    <strong>ID:</strong> ${jsonData[i].id}<br>
                    <strong>First Name:</strong> ${jsonData[i].first_name}<br>
                    <strong>Last Name:</strong> ${jsonData[i].last_name}
                `;

                tableBody.appendChild(card);
            }
        }

        function addRecord() {
            // Ensure jsonData is initialized
            if (!jsonData) {
                jsonData = [];
            }

            // Generate a unique ID (assuming IDs are numbers)
            var newId = jsonData.length > 0 ? jsonData[jsonData.length - 1].id + 1 : 1;

            // Create a new record
            var newRecord = {
                id: newId,
                first_name: "New",
                last_name: "Record"
            };

            // Add the new record to jsonData
            jsonData.push(newRecord);

            // Call populateTable to refresh the table with the updated data
            populateTable();
        }

        // Function to add a custom record to jsonData
        function addCustomRecord() {
            // Ensure jsonData is initialized
            if (!jsonData) {
                jsonData = [];
            }

            // Get values from input fields
            var firstNameInput = document.getElementById("first-name");
            var lastNameInput = document.getElementById("last-name");

            // Check if both fields are filled
            if (firstNameInput.value && lastNameInput.value) {
                // Generate a unique ID (assuming IDs are numbers)
                var newId = jsonData.length > 0 ? jsonData[jsonData.length - 1].id + 1 : 1;

                // Create a new record with input values
                var newRecord = {
                    id: newId,
                    first_name: firstNameInput.value,
                    last_name: lastNameInput.value
                };

                // Add the new record to jsonData
                jsonData.push(newRecord);

                // Call populateTable to refresh the table with the updated data
                populateTable();

                // Clear input fields
                firstNameInput.value = '';
                lastNameInput.value = '';
            } else {
                alert("Please enter both first name and last name.");
            }
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/react@17/umd/react.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mui/system@5.0.5/dist/index.esm.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mui/material@5.0.5/dist/index.esm.min.js"></script>
</body>
</html>
